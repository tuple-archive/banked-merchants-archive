(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4861],{5011:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/demo/store/hosted/gateway",function(){return n(8665)}])},1817:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});var r=n(5893),o=n(8161),a=n(9857),i=n(3256),u=n(3894),s=n(1664),c=n(7294);function d(t){var e=t.success,n=t.error,d=(0,c.useContext)(o.Z).drawerDisclosure;return(0,r.jsx)(i.M5,{minH:"100vh",children:(0,r.jsxs)(i.gC,{spacing:6,maxW:(0,a.Q1)(480),p:6,children:[(0,r.jsx)(i.xv,{children:"The Banked checkout has been disabled in this archive."}),(0,r.jsxs)(i.Eq,{children:[(0,r.jsx)(i.Uc,{children:(0,r.jsx)(s.default,{href:e,passHref:!0,children:(0,r.jsx)(u.zx,{as:"a",onClick:d.onClose,children:"Simulate success"})})}),(0,r.jsx)(i.Uc,{children:(0,r.jsx)(s.default,{href:n,passHref:!0,children:(0,r.jsx)(u.zx,{as:"a",onClick:d.onClose,children:"Simulate error"})})})]})]})})}},6485:function(t,e,n){"use strict";n.d(e,{F:function(){return f}});var r=n(5893),o=n(8511),a=n(1163),i=n(7294),u=n(870);function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){s(t,e,n[e])}))}return t}var d=(0,i.createContext)({highlightComponents:[]});function f(t){var e=t.children,n=(0,a.useRouter)(),s=(0,u.jD)(),f=s.isEmpty,m=s.setItems,l=(0,i.useState)([]),p=l[0],h=l[1];return(0,i.useEffect)((function(){var t=function(t){var e=t.data;e.path&&e.path!==n.asPath&&n.push(e.path),void 0!==e.highlightComponents&&h(e.highlightComponents),"addItemIfEmpty"===e.simulateAction&&f&&m&&m([c({},o.Z[0],{quantity:1})])},e=function(t){window.parent.postMessage({path:t},"*")};return n.events.on("routeChangeComplete",e),window.addEventListener("message",t),function(){n.events.on("routeChangeComplete",e),window.removeEventListener("message",t)}}),[n,f,m]),(0,r.jsx)(d.Provider,{value:{highlightComponents:p},children:e})}e.Z=d},8161:function(t,e,n){"use strict";n.d(e,{g:function(){return l}});var r=n(5893),o=n(1817),a=n(7375),i=n(8053),u=n(308),s=n.n(u),c=n(1163),d=n(7294),f=n(870),m=(0,d.createContext)({startPayment:s(),addItem:s(),removeItem:s(),drawerDisclosure:{isOpen:!1,onOpen:s(),onClose:s()},modalDisclosure:{isOpen:!1,onOpen:s(),onClose:s()},paymentItems:[]});function l(t){var e=t.children,n=(0,c.useRouter)(),u=(0,f.jD)(),s=(0,a.qY)(),d=(0,a.qY)(),l="hosted"===n.query.method;return(0,r.jsxs)(m.Provider,{value:{addItem:u.addItem,modalDisclosure:d,drawerDisclosure:s,removeItem:u.removeItem,startPayment:function(){l?n.push("/demo/store/hosted/gateway"):s.onOpen()}},children:[e,(0,r.jsxs)(i.dy,{variant:"checkout",size:"checkout",placement:"right",isOpen:s.isOpen,onClose:s.onClose,children:[(0,r.jsx)(i.P1,{}),(0,r.jsxs)(i.sc,{children:[(0,r.jsx)(i.Ng,{children:(0,r.jsx)(o.Z,{success:"/demo/store/".concat(n.query.method,"/payment/mock/success"),error:"/demo/store/".concat(n.query.method,"/payment/mock/error")})}),(0,r.jsx)(i.cC,{})]})]})]})}e.Z=m},8665:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return i}});var r=n(5893),o=n(1817),a=n(6485);function i(){return(0,r.jsx)(a.F,{children:(0,r.jsx)(o.Z,{success:"/demo/store/hosted/payment/mock/success/",error:"/demo/store/hosted/payment/mock/error/"})})}},1163:function(t,e,n){t.exports=n(880)},870:function(t,e,n){"use strict";n.d(e,{Zl:function(){return h},jD:function(){return s}});var r=n(7294);function o(){return o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o.apply(this,arguments)}function a(t,e){var n=(0,r.useState)((function(){try{var n="undefined"!==typeof window&&window.localStorage.getItem(t);return n||e}catch(r){return e}})),o=n[0],a=n[1];return[o,function(e){try{var n=e instanceof Function?e(o):e;a(n),window.localStorage.setItem(t,n)}catch(r){console.log(r)}}]}var i={items:[],isEmpty:!0,totalItems:0,totalUniqueItems:0,cartTotal:0,metadata:{}},u=(0,r.createContext)(i),s=function(){var t=(0,r.useContext)(u);if(!t)throw new Error("Expected to be wrapped in a CartProvider");return t};function c(t,e){switch(e.type){case"SET_ITEMS":return d(t,e.payload);case"ADD_ITEM":var n=[].concat(t.items,[e.payload]);return d(t,n);case"UPDATE_ITEM":var r=t.items.map((function(t){return t.id!==e.id?t:o({},t,e.payload)}));return d(t,r);case"REMOVE_ITEM":var a=t.items.filter((function(t){return t.id!==e.id}));return d(t,a);case"EMPTY_CART":return i;case"CLEAR_CART_META":return o({},t,{metadata:{}});case"SET_CART_META":return o({},t,{metadata:o({},e.payload)});case"UPDATE_CART_META":return o({},t,{metadata:o({},t.metadata,e.payload)});default:throw new Error("No action specified")}}var d=function(t,e){void 0===t&&(t=i);var n=p(e),r=0===n;return o({},i,t,{items:f(e),totalItems:l(e),totalUniqueItems:n,cartTotal:m(e),isEmpty:r})},f=function(t){return t.map((function(t){return o({},t,{itemTotal:t.price*t.quantity})}))},m=function(t){return t.reduce((function(t,e){return t+e.quantity*e.price}),0)},l=function(t){return t.reduce((function(t,e){return t+e.quantity}),0)},p=function(t){return t.length},h=function(t){var e,n=t.children,s=t.id,d=t.defaultItems,f=void 0===d?[]:d,m=t.onSetItems,l=t.onItemAdd,p=t.onItemUpdate,h=t.onItemRemove,y=t.storage,v=void 0===y?a:y,E=t.metadata,T=s||(void 0===e&&(e=12),[].concat(Array(e)).map((function(){return(~~(36*Math.random())).toString(36)})).join("")),w=v(s?"react-use-cart-"+T:"react-use-cart",JSON.stringify(o({id:T},i,{items:f,metadata:E}))),C=w[0],I=w[1],g=(0,r.useReducer)(c,JSON.parse(C)),_=g[0],j=g[1];(0,r.useEffect)((function(){I(JSON.stringify(_))}),[_,I]);return(0,r.createElement)(u.Provider,{value:o({},_,{getItem:function(t){return _.items.find((function(e){return e.id===t}))},inCart:function(t){return _.items.some((function(e){return e.id===t}))},setItems:function(t){j({type:"SET_ITEMS",payload:t.map((function(t){return o({},t,{quantity:t.quantity||1})}))}),m&&m(t)},addItem:function(t,e){if(void 0===e&&(e=1),!t.id)throw new Error("You must provide an `id` for items");if(!(e<=0)){var n=_.items.find((function(e){return e.id===t.id}));if(!n&&!t.hasOwnProperty("price"))throw new Error("You must pass a `price` for new items");if(!n){var r=o({},t,{quantity:e});return j({type:"ADD_ITEM",payload:r}),void(l&&l(r))}var a=o({},t,{quantity:n.quantity+e});j({type:"UPDATE_ITEM",id:t.id,payload:a}),p&&p(a)}},updateItem:function(t,e){t&&e&&(j({type:"UPDATE_ITEM",id:t,payload:e}),p&&p(e))},updateItemQuantity:function(t,e){if(e<=0)return h&&h(t),void j({type:"REMOVE_ITEM",id:t});var n=_.items.find((function(e){return e.id===t}));if(!n)throw new Error("No such item to update");var r=o({},n,{quantity:e});j({type:"UPDATE_ITEM",id:t,payload:r}),p&&p(r)},removeItem:function(t){t&&(j({type:"REMOVE_ITEM",id:t}),h&&h(t))},emptyCart:function(){return j({type:"EMPTY_CART"})},clearCartMetadata:function(){j({type:"CLEAR_CART_META"})},setCartMetadata:function(t){t&&j({type:"SET_CART_META",payload:t})},updateCartMetadata:function(t){t&&j({type:"UPDATE_CART_META",payload:t})}})},n)}}},function(t){t.O(0,[3256,3482,623,9774,2888,179],(function(){return e=5011,t(t.s=e);var e}));var e=t.O();_N_E=e}]);